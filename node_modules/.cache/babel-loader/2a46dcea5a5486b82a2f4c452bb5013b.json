{"ast":null,"code":"import _classCallCheck from \"/Users/haeran/Documents/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/haeran/Documents/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/haeran/Documents/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/haeran/Documents/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/Users/haeran/Documents/react/src/shared/Router.js\";\nimport React, { Component } from 'react';\nimport { BrowserRouter as AppRouter, Route, Switch, Redirect } from 'react-router-dom';\nimport NotFound from './NotFound'; // Routes\n\nimport { DefaultLayout, titleTemplate, defaultRoute, routes } from '../routes'; // ---\n// Main route component\n\nvar Router = /*#__PURE__*/function (_Component) {\n  _inherits(Router, _Component);\n\n  var _super = _createSuper(Router);\n\n  function Router(props) {\n    var _this;\n\n    _classCallCheck(this, Router);\n\n    _this = _super.call(this, props); // Set default layout\n\n    _this.routes = routes.map(function (route) {\n      route.layout = route.layout || DefaultLayout;\n      route.exact = typeof route.exact === 'undefined' ? true : route.exact;\n      return route;\n    }); // Set app loading class\n\n    document.documentElement.classList.add('app-loading');\n    return _this;\n  }\n\n  _createClass(Router, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var removeLoadingClass = function removeLoadingClass() {\n        document.documentElement.classList.remove('app-loading');\n      }; // Remove splash screen\n\n\n      var splashScreen = document.querySelector('.app-splash-screen');\n\n      if (splashScreen) {\n        splashScreen.style.opacity = 0;\n        setTimeout(function () {\n          splashScreen && splashScreen.parentNode.removeChild(splashScreen);\n          removeLoadingClass();\n        }, 300);\n      } else {\n        removeLoadingClass();\n      }\n    }\n  }, {\n    key: \"setTitle\",\n    value: function setTitle(title) {\n      document.title = titleTemplate.replace('%s', title);\n    }\n  }, {\n    key: \"scrollTop\",\n    value: function scrollTop(to, duration) {\n      var element = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : document.scrollingElement || document.documentElement;\n      if (element.scrollTop === to) return;\n      var start = element.scrollTop;\n      var change = to - start;\n      var startDate = +new Date();\n\n      if (!duration) {\n        element.scrollTop = to;\n        return;\n      } // t = current time; b = start value; c = change in value; d = duration\n\n\n      var easeInOutQuad = function easeInOutQuad(t, b, c, d) {\n        t /= d / 2;\n        if (t < 1) return c / 2 * t * t + b;\n        t--;\n        return -c / 2 * (t * (t - 2) - 1) + b;\n      };\n\n      var animateScroll = function animateScroll() {\n        var currentDate = +new Date();\n        var currentTime = currentDate - startDate;\n        element.scrollTop = parseInt(easeInOutQuad(currentTime, start, change, duration));\n\n        if (currentTime < duration) {\n          requestAnimationFrame(animateScroll);\n        } else {\n          element.scrollTop = to;\n        }\n      };\n\n      animateScroll();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return /*#__PURE__*/React.createElement(AppRouter, {\n        basename: process.env.REACT_APP_BASENAME,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Switch, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 9\n        }\n      }, this.routes.map(function (route) {\n        return /*#__PURE__*/React.createElement(Route, {\n          path: route.path,\n          exact: route.exact,\n          render: function render(props) {\n            // On small screens collapse sidenav\n            if (window.layoutHelpers && window.layoutHelpers.isSmallScreen()) {\n              window.layoutHelpers.setCollapsed(true, false);\n            } // Scroll page to top on route render\n\n\n            _this2.scrollTop(0, 0); // Return layout\n\n\n            return /*#__PURE__*/React.createElement(route.layout, Object.assign({}, props, {\n              __self: _this2,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 24\n              }\n            }), /*#__PURE__*/React.createElement(route.component, Object.assign({}, props, {\n              setTitle: _this2.setTitle,\n              scrollTop: _this2.scrollTop,\n              __self: _this2,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 19\n              }\n            })));\n          },\n          key: route.path,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }\n        });\n      }), defaultRoute !== '/' && /*#__PURE__*/React.createElement(Redirect, {\n        from: \"/\",\n        to: defaultRoute,\n        exact: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 36\n        }\n      }), /*#__PURE__*/React.createElement(Route, {\n        path: \"*\",\n        component: NotFound,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }\n      })));\n    }\n  }]);\n\n  return Router;\n}(Component);\n\nexport default Router;","map":{"version":3,"sources":["/Users/haeran/Documents/react/src/shared/Router.js"],"names":["React","Component","BrowserRouter","AppRouter","Route","Switch","Redirect","NotFound","DefaultLayout","titleTemplate","defaultRoute","routes","Router","props","map","route","layout","exact","document","documentElement","classList","add","removeLoadingClass","remove","splashScreen","querySelector","style","opacity","setTimeout","parentNode","removeChild","title","replace","to","duration","element","scrollingElement","scrollTop","start","change","startDate","Date","easeInOutQuad","t","b","c","d","animateScroll","currentDate","currentTime","parseInt","requestAnimationFrame","process","env","REACT_APP_BASENAME","path","window","layoutHelpers","isSmallScreen","setCollapsed","setTitle"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { BrowserRouter as AppRouter, Route, Switch, Redirect } from 'react-router-dom'\nimport NotFound from './NotFound'\n\n// Routes\nimport { DefaultLayout, titleTemplate, defaultRoute, routes } from '../routes'\n\n// ---\n// Main route component\n\nclass Router extends Component {\n  constructor(props) {\n    super(props)\n\n    // Set default layout\n    this.routes = routes.map(route => {\n      route.layout = route.layout || DefaultLayout\n      route.exact = typeof route.exact === 'undefined' ? true : route.exact\n      return route\n    })\n\n    // Set app loading class\n    document.documentElement.classList.add('app-loading')\n  }\n\n  componentDidMount() {\n    const removeLoadingClass = () => {\n      document.documentElement.classList.remove('app-loading')\n    }\n\n    // Remove splash screen\n    const splashScreen = document.querySelector('.app-splash-screen')\n    if (splashScreen) {\n      splashScreen.style.opacity = 0\n      setTimeout(() => {\n        splashScreen && splashScreen.parentNode.removeChild(splashScreen)\n        removeLoadingClass()\n      }, 300)\n    } else {\n      removeLoadingClass()\n    }\n  }\n\n  setTitle(title) {\n    document.title = titleTemplate.replace('%s', title)\n  }\n\n  scrollTop(to, duration, element = document.scrollingElement || document.documentElement) {\n    if (element.scrollTop === to) return\n    const start = element.scrollTop\n    const change = to - start\n    const startDate = +new Date()\n\n    if (!duration) {\n      element.scrollTop = to\n      return\n    }\n\n    // t = current time; b = start value; c = change in value; d = duration\n    const easeInOutQuad = (t, b, c, d) => {\n      t /= d / 2\n      if (t < 1) return c / 2 * t * t + b\n      t--\n      return -c / 2 * (t * (t - 2) - 1) + b\n    }\n\n    const animateScroll = () => {\n      const currentDate = +new Date()\n      const currentTime = currentDate - startDate\n      element.scrollTop = parseInt(easeInOutQuad(currentTime, start, change, duration))\n      if (currentTime < duration) {\n        requestAnimationFrame(animateScroll)\n      } else {\n        element.scrollTop = to\n      }\n    }\n\n    animateScroll()\n  }\n\n  render() {\n    return (\n      <AppRouter basename={process.env.REACT_APP_BASENAME}>\n        <Switch>\n          {this.routes.map(route => (\n            <Route\n              path={route.path}\n              exact={route.exact}\n              render={props => {\n                // On small screens collapse sidenav\n                if (window.layoutHelpers && window.layoutHelpers.isSmallScreen()) {\n                  window.layoutHelpers.setCollapsed(true, false)\n                }\n\n                // Scroll page to top on route render\n                this.scrollTop(0, 0)\n\n                // Return layout\n                return <route.layout {...props}>\n                  <route.component {...props} setTitle={this.setTitle} scrollTop={this.scrollTop} />\n                </route.layout>\n              }}\n              key={route.path}\n            />\n          ))}\n          {defaultRoute !== '/' && <Redirect from=\"/\" to={defaultRoute} exact={true} />}\n\n          {/* NotFound page */}\n          <Route path=\"*\" component={NotFound} />\n        </Switch>\n      </AppRouter>\n    )\n  }\n}\n\nexport default Router\n"]},"metadata":{},"sourceType":"module"}