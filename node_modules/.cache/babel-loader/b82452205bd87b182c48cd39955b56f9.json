{"ast":null,"code":"import _classCallCheck from \"/Users/haeran/Documents/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/haeran/Documents/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/Users/haeran/Documents/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/haeran/Documents/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/haeran/Documents/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/Users/haeran/Documents/react/src/components/miscellaneous/ReactIdleTimer.js\";\nimport React, { Component } from 'react';\nimport { Card } from 'react-bootstrap';\nimport IdleTimer from 'react-idle-timer';\n\nvar ReactIdleTimer = /*#__PURE__*/function (_Component) {\n  _inherits(ReactIdleTimer, _Component);\n\n  var _super = _createSuper(ReactIdleTimer);\n\n  function ReactIdleTimer(props) {\n    var _this;\n\n    _classCallCheck(this, ReactIdleTimer);\n\n    _this = _super.call(this, props);\n    props.setTitle('React Idle Timer - Miscellaneous');\n    _this.idleTimer = null;\n    _this.onAction = _this.onAction.bind(_assertThisInitialized(_this));\n    _this.onActive = _this.onActive.bind(_assertThisInitialized(_this));\n    _this.onIdle = _this.onIdle.bind(_assertThisInitialized(_this));\n    _this.state = {\n      isActive: true,\n      lastActiveTime: new Date().toString(),\n      remainingTime: 0,\n      log: ''\n    };\n    _this.intervalId = setInterval(function () {\n      if (!_this.idleTimer || !_this.state.isActive && !_this.state.remainingTime) return;\n\n      _this.setState({\n        remainingTime: _this.idleTimer.getRemainingTime()\n      });\n    }, 200);\n    return _this;\n  }\n\n  _createClass(ReactIdleTimer, [{\n    key: \"getLastActiveTime\",\n    value: function getLastActiveTime() {\n      return new Date(this.idleTimer.getLastActiveTime()).toString();\n    }\n  }, {\n    key: \"onAction\",\n    value: function onAction(e) {\n      var _this2 = this;\n\n      if (this.unmounted) return;\n      this.setState(function (state) {\n        return {\n          lastActiveTime: _this2.getLastActiveTime(),\n          log: \"Action: \".concat(e.type, \"\\n\") + state.log\n        };\n      });\n    }\n  }, {\n    key: \"onActive\",\n    value: function onActive(e) {\n      var _this3 = this;\n\n      if (this.unmounted) return;\n      this.setState(function (state) {\n        return {\n          isActive: true,\n          lastActiveTime: _this3.getLastActiveTime(),\n          log: \"User is active\\n\" + state.log\n        };\n      });\n    }\n  }, {\n    key: \"onIdle\",\n    value: function onIdle(e) {\n      var _this4 = this;\n\n      if (this.unmounted) return;\n      this.setState(function (state) {\n        return {\n          isActive: false,\n          lastActiveTime: _this4.getLastActiveTime(),\n          log: \"Idle\\n\" + state.log\n        };\n      });\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.unmounted = true;\n      clearInterval(this.intervalId);\n      this.intervalId = null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"h4\", {\n        className: \"font-weight-bold py-3 mb-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"text-muted font-weight-light\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }\n      }, \"Miscellaneous /\"), \" React Idle Timer\"), /*#__PURE__*/React.createElement(\"hr\", {\n        className: \"container-m-nx border-light mt-0 mb-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(Card, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Card.Body, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"mb-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        className: \"form-label\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 15\n        }\n      }, \"Remaining time:\"), \" \", this.state.remainingTime), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"mb-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        className: \"form-label\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 15\n        }\n      }, \" Last active: \"), \" \", this.state.lastActiveTime), /*#__PURE__*/React.createElement(\"textarea\", {\n        readOnly: true,\n        value: this.state.log,\n        className: 'form-control ' + (this.state.isActive ? 'is-valid' : 'is-invalid'),\n        style: {\n          height: 300\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }\n      }), !this.componentUnmounted && /*#__PURE__*/React.createElement(IdleTimer, {\n        ref: function ref(_ref) {\n          _this5.idleTimer = _ref;\n        },\n        element: document,\n        onActive: this.onActive,\n        onIdle: this.onIdle,\n        onAction: this.onAction,\n        debounce: 250,\n        timeout: 5000,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 42\n        }\n      }))));\n    }\n  }]);\n\n  return ReactIdleTimer;\n}(Component);\n\nexport default ReactIdleTimer;","map":{"version":3,"sources":["/Users/haeran/Documents/react/src/components/miscellaneous/ReactIdleTimer.js"],"names":["React","Component","Card","IdleTimer","ReactIdleTimer","props","setTitle","idleTimer","onAction","bind","onActive","onIdle","state","isActive","lastActiveTime","Date","toString","remainingTime","log","intervalId","setInterval","setState","getRemainingTime","getLastActiveTime","e","unmounted","type","clearInterval","height","componentUnmounted","ref","document"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { Card } from 'react-bootstrap'\nimport IdleTimer from 'react-idle-timer'\n\nclass ReactIdleTimer extends Component {\n  constructor(props) {\n    super(props)\n    props.setTitle('React Idle Timer - Miscellaneous')\n\n    this.idleTimer = null\n    this.onAction = this.onAction.bind(this)\n    this.onActive = this.onActive.bind(this)\n    this.onIdle = this.onIdle.bind(this)\n\n    this.state = {\n      isActive: true,\n      lastActiveTime: new Date().toString(),\n      remainingTime: 0,\n      log: ''\n    }\n\n    this.intervalId = setInterval(() => {\n      if (!this.idleTimer || (!this.state.isActive && !this.state.remainingTime)) return\n      this.setState({\n        remainingTime: this.idleTimer.getRemainingTime()\n      })\n    }, 200)\n  }\n\n  getLastActiveTime() {\n    return new Date(this.idleTimer.getLastActiveTime()).toString()\n  }\n\n  onAction(e) {\n    if (this.unmounted) return\n    this.setState(state => ({\n      lastActiveTime: this.getLastActiveTime(),\n      log: `Action: ${e.type}\\n` + state.log\n    }))\n  }\n\n  onActive(e) {\n    if (this.unmounted) return\n    this.setState(state => ({\n      isActive: true,\n      lastActiveTime: this.getLastActiveTime(),\n      log: `User is active\\n` + state.log\n    }))\n  }\n\n  onIdle(e) {\n    if (this.unmounted) return\n    this.setState(state => ({\n      isActive: false,\n      lastActiveTime: this.getLastActiveTime(),\n      log: `Idle\\n` + state.log\n    }))\n  }\n\n  componentWillUnmount() {\n    this.unmounted = true\n    clearInterval(this.intervalId)\n    this.intervalId = null\n  }\n\n  render() {\n    return (\n      <div>\n        <h4 className=\"font-weight-bold py-3 mb-4\">\n          <span className=\"text-muted font-weight-light\">Miscellaneous /</span> React Idle Timer\n        </h4>\n\n        <hr className=\"container-m-nx border-light mt-0 mb-4\" />\n\n        <Card>\n          <Card.Body>\n            <div className=\"mb-1\">\n              <label className=\"form-label\">Remaining time:</label> {this.state.remainingTime}\n            </div>\n            <div className=\"mb-1\">\n              <label className = \"form-label\" > Last active: </label> {this.state.lastActiveTime}\n            </div>\n            <textarea readOnly\n              value={this.state.log}\n              className={'form-control ' + (this.state.isActive ? 'is-valid' : 'is-invalid')}\n              style={{ height: 300 }}\n            />\n\n            {!this.componentUnmounted && <IdleTimer\n              ref={ref => { this.idleTimer = ref }}\n              element={document}\n              onActive={this.onActive}\n              onIdle={this.onIdle}\n              onAction={this.onAction}\n              debounce={250}\n              timeout={5000} />}\n          </Card.Body>\n        </Card>\n      </div>\n    )\n  }\n}\n\nexport default ReactIdleTimer\n"]},"metadata":{},"sourceType":"module"}